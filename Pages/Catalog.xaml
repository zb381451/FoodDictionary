<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="FoodDictionary.Pages.Catalog"
    Title="Catalog"
    BackgroundColor="White">

    <VerticalStackLayout Padding="15" Spacing="10">


        <Border 
        BackgroundColor="White" 
        Stroke="Black" 
        StrokeThickness="4"
        StrokeShape="RoundRectangle 10"
        HorizontalOptions="Fill" 
        HeightRequest="60">
            <HorizontalStackLayout Padding="08" Spacing="10">
                <Image 
            Source="food_dictionary_search.png"
            HeightRequest="45" 
            WidthRequest="45"/>
                <Entry 
            x:Name="SearchTerm"
            Placeholder="Search"
            FontSize="35"
            TextColor="Black"
            TextChanged="SearchTerm_TextChanged">
            </Entry>
            </HorizontalStackLayout>
        </Border>

 
        <HorizontalStackLayout Padding="01,01" Spacing="10" HorizontalOptions="End">
            <ImageButton 
          Source="food_dictionary_filter.png"
          WidthRequest="20" 
          HeightRequest="20"/>
            <Label Text="Filter" FontSize="20" TextColor="Black" VerticalOptions="Center"/>
        </HorizontalStackLayout>

        <CollectionView 
            ItemsSource="{Binding Items}"
            BackgroundColor="White"
            Margin="0,10"
            SelectionMode="None">
            <CollectionView.ItemsLayout>
                <GridItemsLayout Orientation="Vertical" Span="2" HorizontalItemSpacing="15" VerticalItemSpacing="15"/>
            </CollectionView.ItemsLayout>
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame 
        BorderColor="Black"
        BackgroundColor="White"
        CornerRadius="10"
        Padding="10"
        Margin="5"
        HasShadow="False">




                        <VerticalStackLayout Spacing="5">

                            <Button 
Text="Delete" 
ImageSource="trash_icon.png"
BackgroundColor="MistyRose" 
TextColor="White"
    WidthRequest="24"
            HeightRequest="24"
            HorizontalOptions="End"
            VerticalOptions="Start"                              
CommandParameter="{Binding .}" 
Clicked="OnDeleteClicked"/>
                        


                        <Image 
                Source="{Binding Image}" 
                HeightRequest="100" 
                WidthRequest="150" 
                Aspect="AspectFill"
                HorizontalOptions="Center"/>

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Label 
                    Text="{Binding Name}" 
                    FontSize="16" 
                    FontAttributes="Bold"
                    TextColor="Black"
                    Grid.Column="0"
                    HorizontalOptions="StartAndExpand"/>
                                <Label 
                    Text="{Binding Price, StringFormat='{0:C}'}" 
                    FontSize="14"
                    TextColor="Black"
                    Grid.Column="1"
                    HorizontalOptions="EndAndExpand"/>
                                <Label
                    Text="{Binding Serving_Size, StringFormat= 'Serving Size: {0}'}"
                    FontSize="14" 
                    TextColor="Black"
                    HorizontalOptions="CenterAndExpand"/>
                            </Grid>



                            <Label 
                Text="{Binding Vitamins, StringFormat='Vitamins: {0}'}" 
                FontSize="12" 
                TextColor="Black"/>

                            <Label 
                Text="{Binding Minerals, StringFormat='Minerals: {0}'}" 
                FontSize="12" 
                TextColor="Black"/>

                            <Label 
                Text="{Binding OtherFacts, StringFormat='Other Facts: {0}'}" 
                FontSize="12" 
                TextColor="Black"/>

                        </VerticalStackLayout>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

    </VerticalStackLayout>
</ContentPage>
